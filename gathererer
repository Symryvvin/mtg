package ru.aizen.card;


import ru.aizen.Language;
import ru.aizen.card.mana.ManaCost;
import ru.aizen.card.type.CardType;

public class Card {
    private static final String IMAGE_URL = "http://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=";
    private int multiverseID;
    private Language language;
    private String name;
    private ManaCost manaCost;
    private CardType cardType;
    private Rarity rarity;
    private String expansionSet;
    private String text;
    private String flavorText;
    private String watermark;
    private Stats stats;
    private String number;
    private String artist;

    private Card(int multiverseID) {
        this.multiverseID = multiverseID;
    }

    public static Builder builder(int mulriverseId) {
        return new Card(mulriverseId).new Builder();
    }

    public Language getLanguage() {
        return language;
    }

    public String getName() {
        return name;
    }

    public String getManaCost() {
        return manaCost.getCost();
    }

    public int getConvertedManaCost() {
        return manaCost.getConvertedManaCost();
    }

    public String getImageUrl() {
        return IMAGE_URL + multiverseID;
    }

    public String getCardTypes() {
        return cardType.toString();
    }

    public Rarity getRarity() {
        return rarity;
    }

    public String getExpansionSet() {
        return expansionSet;
    }

    public String getText() {
        return text;
    }

    public String getFlavorText() {
        return flavorText;
    }

    public String getWatermark() {
        return watermark;
    }

    public String getStats() {
        return stats.getStatName() + ": " + stats.getStats();
    }

    public String getNumber() {
        return number;
    }

    public String getArtist() {
        return artist;
    }

    public int getMultiverseID() {
        return multiverseID;
    }

    @Override
    public String toString() {
        return "Card{" +
                "multiverseID=" + multiverseID +
                ", language=" + language +
                ", name='" + name + '\'' +
                ", manaCost=" + manaCost +
                ", cardType=" + cardType +
                ", rarity=" + rarity +
                ", expansionSet='" + expansionSet + '\'' +
                ", text='" + text + '\'' +
                ", flavorText='" + flavorText + '\'' +
                ", watermark='" + watermark + '\'' +
                ", stats=" + stats +
                ", number='" + number + '\'' +
                ", artist='" + artist + '\'' +
                '}';
    }

    public class Builder {

        private Builder() {
        }

        public Builder setName(String name) {
            Card.this.name = name;
            return this;
        }

        public Builder setLanguage(Language language) {
            Card.this.language = language;
            return this;
        }

        public Builder setExpansionSet(String expansionSet) {
            Card.this.expansionSet = expansionSet;
            return this;
        }

        public Builder setNumber(String number) {
            Card.this.number = number;
            return this;
        }

        public Builder setManaCost(ManaCost manaCost) {
            Card.this.manaCost = manaCost;
            return this;
        }

        public Builder setCardType(CardType cardType) {
            Card.this.cardType = cardType;
            return this;
        }

        public Builder setRarity(Rarity rarity) {
            Card.this.rarity = rarity;
            return this;
        }

        public Builder setText(String text) {
            Card.this.text = text;
            return this;
        }

        public Builder setFlavorText(String flavorText) {
            Card.this.flavorText = flavorText;
            return this;
        }

        public Builder setStats(Stats stats) {
            Card.this.stats = stats;
            return this;
        }

        public Builder setWatermark(String watermark) {
            Card.this.watermark = watermark;
            return this;
        }

        public Builder setArtist(String artist) {
            Card.this.artist = artist;
            return this;
        }

        public Card build() {
            return Card.this;
        }
    }
}

    @Test
    public void parseStats(){
        String pt = "3/9";
        Stats stats = new Stats(SpellType.CREATURE, pt);
        System.out.println(stats.getStatName() + ": " + stats.getStats());
        String loyality = "6";
        Stats stats2 = new Stats(SpellType.PLANESWALKER, loyality);
        System.out.println(stats2.getStatName() + ": " + stats2.getStats());
    }
}



